<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bio Entrainment | Harmonizing Mind & Machine</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Custom Styles -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0a0a1a;
            color: #e0e0e0;
        }

        /* Style for the canvas background animation */
        #neural-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            opacity: 0.4;
        }

        /* Helper class for scroll animations */
        .reveal {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }

        .reveal-visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Custom gradient text */
        .gradient-text {
            background: linear-gradient(90deg, #4f46e5, #a855f7, #ec4899);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
    </style>
</head>
<body class="antialiased">

    <!-- Container for all content -->
    <div class="relative min-h-screen">
        <!-- Canvas for background animation -->
        <canvas id="neural-canvas"></canvas>

        <!-- Main content container, positioned above the canvas -->
        <div class="relative z-10">

            <!-- Header -->
            <header class="py-5 px-4 sm:px-6 lg:px-8">
                <nav class="flex justify-between items-center max-w-7xl mx-auto">
                    <h1 class="text-2xl font-bold text-white tracking-wider">Bio Entrainment</h1>
                    <div class="hidden md:flex items-center space-x-8 text-sm font-medium">
                        <a href="#solutions" class="text-gray-300 hover:text-white transition-colors">Solutions</a>
                        <a href="#technology" class="text-gray-300 hover:text-white transition-colors">Technology</a>
                        <a href="#research" class="text-gray-300 hover:text-white transition-colors">Research</a>
                        <a href="#science" class="text-gray-300 hover:text-white transition-colors">Science</a>
                        <a href="#contact" class="bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-md transition-colors">Contact Us</a>
                    </div>
                </nav>
            </header>

            <!-- Hero Section -->
            <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <section class="text-center py-24 sm:py-32">
                    <h1 class="text-4xl sm:text-5xl lg:text-6xl font-extrabold text-white tracking-tight">
                        <span class="block">Harmonizing Mind & Machine:</span>
                        <span class="block gradient-text mt-2">The Future of Neurological Wellness</span>
                    </h1>
                    <p class="mt-6 max-w-2xl mx-auto text-lg text-gray-300">
                        Unlocking human potential through scalar wave resonance. We pioneer non-invasive, drug-free paths to mental clarity, emotional balance, and enhanced cognitive function.
                    </p>
                    <div class="mt-10 flex justify-center gap-x-4">
                        <a href="#solutions" class="bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-3 rounded-lg font-semibold shadow-lg transition-all transform hover:scale-105">Discover Our Solutions</a>
                        <a href="#contact" class="bg-gray-700/50 backdrop-blur-sm border border-gray-600 hover:bg-gray-700/80 text-white px-6 py-3 rounded-lg font-semibold shadow-lg transition-all transform hover:scale-105">Request a Consultation</a>
                    </div>
                </section>

                <!-- Solutions Section -->
                <section id="solutions" class="py-20 reveal">
                    <div class="text-center">
                        <h2 class="text-3xl font-bold text-white tracking-tight">A New Wave in Therapeutic Solutions</h2>
                        <p class="mt-4 max-w-3xl mx-auto text-gray-400">
                           By synchronizing brainwaves with precisely tuned scalar energy fields, we help restore the brain's natural, healthy resonant frequencies.
                        </p>
                    </div>
                    <div class="mt-12 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                        <!-- Card 1 -->
                        <div class="bg-gray-800/50 backdrop-blur-sm p-6 rounded-xl border border-gray-700 shadow-lg">
                            <h3 class="font-semibold text-white">Anxiety & Stress Disorders</h3>
                            <p class="mt-2 text-sm text-gray-400">Gently guide your mind into a state of calm and coherence, away from persistent fight-or-flight.</p>
                        </div>
                        <!-- Card 2 -->
                        <div class="bg-gray-800/50 backdrop-blur-sm p-6 rounded-xl border border-gray-700 shadow-lg">
                            <h3 class="font-semibold text-white">Depressive & Mood Disorders</h3>
                            <p class="mt-2 text-sm text-gray-400">Help lift the fog and re-establish neural pathways associated with positive emotional states.</p>
                        </div>
                        <!-- Card 3 -->
                        <div class="bg-gray-800/50 backdrop-blur-sm p-6 rounded-xl border border-gray-700 shadow-lg">
                            <h3 class="font-semibold text-white">Cognitive Decline & Brain Fog</h3>
                            <p class="mt-2 text-sm text-gray-400">Sharpen focus, improve memory recall, and enhance overall mental acuity.</p>
                        </div>
                        <!-- Card 4 -->
                        <div class="bg-gray-800/50 backdrop-blur-sm p-6 rounded-xl border border-gray-700 shadow-lg">
                            <h3 class="font-semibold text-white">Attention Deficits (ADHD/ADD)</h3>
                            <p class="mt-2 text-sm text-gray-400">Promote sustained concentration and executive function through targeted entrainment.</p>
                        </div>
                    </div>
                </section>

                <!-- Technology Section -->
                <section id="technology" class="py-20 reveal">
                    <div class="grid md:grid-cols-2 gap-12 items-center">
                        <div>
                            <h2 class="text-3xl font-bold text-white tracking-tight">The Dawn of Organic Computing</h2>
                            <p class="mt-4 text-gray-400">Imagine a computer that doesn't just process information but *understands* it on a biological level. That's the promise of organic computing, and it's at the core of our innovation.</p>
                            <ul class="mt-8 space-y-4">
                                <li class="flex items-start">
                                    <div class="flex-shrink-0"><svg class="h-6 w-6 text-indigo-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></div>
                                    <p class="ml-3 text-gray-300"><strong>Adaptive:</strong> Learns and evolves in real-time based on bio-feedback.</p>
                                </li>
                                <li class="flex items-start">
                                    <div class="flex-shrink-0"><svg class="h-6 w-6 text-indigo-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></div>
                                    <p class="ml-3 text-gray-300"><strong>Efficient:</strong> Requires a fraction of the energy of traditional silicon-based computers.</p>
                                </li>
                                <li class="flex items-start">
                                    <div class="flex-shrink-0"><svg class="h-6 w-6 text-indigo-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></div>
                                    <p class="ml-3 text-gray-300"><strong>Integrated:</strong> Seamlessly interacts with living tissue for next-gen interfaces.</p>
                                </li>
                            </ul>
                        </div>
                         <div class="bg-gray-800/50 backdrop-blur-sm p-8 rounded-xl border border-gray-700">
                           <img src="https://placehold.co/600x400/111827/4f46e5?text=Organic+Computing+Viz" alt="Organic Computing Visualization" class="rounded-lg shadow-2xl">
                        </div>
                    </div>
                </section>
                
                <!-- Research and Development Section -->
                <section id="research" class="py-20 reveal">
                     <div class="grid md:grid-cols-2 gap-12 items-center">
                         <div class="bg-gray-800/50 backdrop-blur-sm p-8 rounded-xl border border-gray-700">
                           <img src="https://placehold.co/600x400/111827/a855f7?text=Microtubule+Research" alt="Microtubule Research Visualization" class="rounded-lg shadow-2xl">
                        </div>
                        <div>
                            <h2 class="text-3xl font-bold text-white tracking-tight">Pioneering Research & Development</h2>
                            <p class="mt-4 text-gray-400">Our philosophy is simple: nature is the ultimate engineer. We solve complex technical problems by reverse-engineering the elegant solutions found in biology. This approach allows us to move beyond the limitations of conventional technology.</p>
                            <div class="mt-8">
                                <h3 class="font-semibold text-indigo-300">Solving Backpropagation with Microtubules</h3>
                                <p class="mt-2 text-gray-400">Current AI learning models are inefficient, relying on energy-intensive backpropagation. We are pioneering a new paradigm by studying microtubules—the protein structures within neurons. Their quantum computational properties may hold the key to creating true learning machines that are orders of magnitude more powerful and efficient, mirroring the learning processes of the human brain.</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Science Section -->
                <section id="science" class="py-20 reveal">
                    <div class="text-center">
                        <h2 class="text-3xl font-bold text-white tracking-tight">How It Works: The Science of Resonance</h2>
                        <p class="mt-4 max-w-3xl mx-auto text-gray-400">Our technology works in three simple steps, like tuning a musical instrument back into harmony.</p>
                    </div>
                    <div class="mt-12 flex flex-col md:flex-row justify-center items-center gap-8 md:gap-4">
                        <!-- Step 1 -->
                        <div class="text-center max-w-xs p-4">
                            <div class="flex items-center justify-center h-16 w-16 mx-auto bg-indigo-900/50 border border-indigo-700 rounded-full text-2xl font-bold text-indigo-300">1</div>
                            <h3 class="mt-4 font-semibold text-white">Map</h3>
                            <p class="mt-1 text-sm text-gray-400">We map your unique brainwave patterns with advanced bio-feedback sensors.</p>
                        </div>
                        <div class="hidden md:block h-px w-24 bg-gray-700"></div>
                        <!-- Step 2 -->
                        <div class="text-center max-w-xs p-4">
                            <div class="flex items-center justify-center h-16 w-16 mx-auto bg-indigo-900/50 border border-indigo-700 rounded-full text-2xl font-bold text-indigo-300">2</div>
                            <h3 class="mt-4 font-semibold text-white">Tune</h3>
                            <p class="mt-1 text-sm text-gray-400">We generate a precise, customized scalar wave field to introduce a therapeutic frequency.</p>
                        </div>
                        <div class="hidden md:block h-px w-24 bg-gray-700"></div>
                        <!-- Step 3 -->
                        <div class="text-center max-w-xs p-4">
                           <div class="flex items-center justify-center h-16 w-16 mx-auto bg-indigo-900/50 border border-indigo-700 rounded-full text-2xl font-bold text-indigo-300">3</div>
                            <h3 class="mt-4 font-semibold text-white">Entrain</h3>
                            <p class="mt-1 text-sm text-gray-400">Your brainwaves naturally synchronize, training the brain to maintain a healthier state.</p>
                        </div>
                    </div>
                </section>

                <!-- Contact Section -->
                <section id="contact" class="py-20 reveal">
                    <div class="bg-gray-900/60 backdrop-blur-lg border border-gray-700 rounded-2xl max-w-4xl mx-auto p-8 sm:p-12">
                        <div class="text-center">
                           <h2 class="text-3xl font-bold text-white tracking-tight">Ready to Explore the Future?</h2>
                           <p class="mt-3 text-gray-400">Schedule a free consultation or send us a message to learn more.</p>
                           <p id="userIdDisplay" class="mt-2 text-xs text-gray-500"></p>
                        </div>
                        <form id="contact-form" class="mt-8">
                            <div id="form-message" class="hidden mb-4 p-4 rounded-md text-sm"></div>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div>
                                    <label for="name" class="block text-sm font-medium text-gray-300">Full Name</label>
                                    <input type="text" id="name" name="name" required class="mt-1 block w-full bg-gray-800 border-gray-700 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                                </div>
                                <div>
                                    <label for="email" class="block text-sm font-medium text-gray-300">Email Address</label>
                                    <input type="email" id="email" name="email" required class="mt-1 block w-full bg-gray-800 border-gray-700 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                                </div>
                            </div>
                            <div class="mt-6">
                                <label for="message" class="block text-sm font-medium text-gray-300">Message</label>
                                <textarea id="message" name="message" rows="4" required class="mt-1 block w-full bg-gray-800 border-gray-700 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"></textarea>
                            </div>
                            <div class="mt-6 text-center">
                                <button type="submit" id="submit-button" class="bg-indigo-600 hover:bg-indigo-700 text-white px-8 py-3 rounded-lg font-semibold shadow-lg transition-all transform hover:scale-105 disabled:bg-indigo-800 disabled:cursor-not-allowed">
                                    Send Message
                                </button>
                            </div>
                        </form>
                    </div>
                </section>
            </main>

            <!-- Footer -->
            <footer class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 mt-12 border-t border-gray-800">
                 <div class="text-center text-sm text-gray-500">
                    <p>&copy; 2025 Bio Entrainment Inc. All Rights Reserved.</p>
                    <p class="mt-1">Pioneering the future of neurological and computational excellence.</p>
                 </div>
            </footer>
        </div>
    </div>

    <!-- Firebase SDK and custom script -->
    <script type="module">
        // Import Firebase functions
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-auth.js";
        import { getFirestore, collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-firestore.js";

        // --- Canvas Animation ---
        const canvas = document.getElementById('neural-canvas');
        const ctx = canvas.getContext('2d');
        let particles = [];
        const numParticles = window.innerWidth > 768 ? 100 : 40;

        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = document.body.scrollHeight; // Make canvas cover whole page height
        }

        class Particle {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.size = Math.random() * 2 + 1;
                this.speedX = Math.random() * 1 - 0.5;
                this.speedY = Math.random() * 1 - 0.5;
                this.color = `rgba(79, 70, 229, ${Math.random()})`; // Indigo-like colors
            }
            update() {
                if (this.x > canvas.width || this.x < 0) this.speedX *= -1;
                if (this.y > canvas.height || this.y < 0) this.speedY *= -1;
                this.x += this.speedX;
                this.y += this.speedY;
            }
            draw() {
                ctx.fillStyle = this.color;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
            }
        }

        function initParticles() {
            particles = [];
            for (let i = 0; i < numParticles; i++) {
                particles.push(new Particle());
            }
        }

        function connectParticles() {
            let opacityValue = 1;
            for (let a = 0; a < particles.length; a++) {
                for (let b = a; b < particles.length; b++) {
                    let distance = ((particles[a].x - particles[b].x) * (particles[a].x - particles[b].x))
                                 + ((particles[a].y - particles[b].y) * (particles[a].y - particles[b].y));
                    if (distance < (canvas.width/7) * (canvas.height/7)) {
                        opacityValue = 1 - (distance/20000);
                        ctx.strokeStyle = `rgba(168, 85, 247, ${opacityValue})`; // Purple-like lines
                        ctx.lineWidth = 0.5;
                        ctx.beginPath();
                        ctx.moveTo(particles[a].x, particles[a].y);
                        ctx.lineTo(particles[b].x, particles[b].y);
                        ctx.stroke();
                    }
                }
            }
        }

        function animate() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            for (let i = 0; i < particles.length; i++) {
                particles[i].update();
                particles[i].draw();
            }
            connectParticles();
            requestAnimationFrame(animate);
        }

        window.addEventListener('resize', () => {
             resizeCanvas();
             initParticles();
        });

        // --- Scroll Reveal Animation ---
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('reveal-visible');
                }
            });
        }, { threshold: 0.1 });

        document.querySelectorAll('.reveal').forEach(el => {
            observer.observe(el);
        });

        // --- Firebase Integration ---
        let db, auth;
        let userId = null;

        // Use injected Firebase config and app ID if available
        const firebaseConfig = typeof __firebase_config !== 'undefined' 
            ? JSON.parse(__firebase_config) 
            : { apiKey: "YOUR_FALLBACK_API_KEY", projectId: "YOUR_FALLBACK_PROJECT_ID" };
        
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        
        const contactForm = document.getElementById('contact-form');
        const submitButton = document.getElementById('submit-button');
        const formMessage = document.getElementById('form-message');

        // Main async function to initialize Firebase and handle authentication
        async function initializeAndAuth() {
            try {
                const app = initializeApp(firebaseConfig);
                db = getFirestore(app);
                auth = getAuth(app);

                // This listener will react to any sign-in state changes
                onAuthStateChanged(auth, (user) => {
                    if (user) {
                        userId = user.uid;
                        console.log("Authentication successful. User ID:", userId);
                        document.getElementById('userIdDisplay').textContent = `Your Session ID: ${userId}`;
                    } else {
                        userId = null;
                        document.getElementById('userIdDisplay').textContent = 'Authenticating...';
                        console.log("User is signed out.");
                    }
                });

                // Now, attempt the sign-in process
                try {
                    if (typeof __initial_auth_token !== 'undefined' && __initial_auth_token) {
                        console.log("Attempting sign-in with custom token.");
                        await signInWithCustomToken(auth, __initial_auth_token);
                    } else {
                        console.log("No custom token found. Signing in anonymously.");
                        await signInAnonymously(auth);
                    }
                } catch (error) {
                    // This block catches the "auth/invalid-claims" error
                    console.error("Custom token sign-in failed. Falling back to anonymous sign-in.", error);
                    await signInAnonymously(auth);
                }

            } catch (e) {
                console.error("Firebase initialization failed:", e);
                document.getElementById('userIdDisplay').textContent = 'Authentication failed.';
            }
        }
        
        contactForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            if (!db || !userId) {
                formMessage.textContent = 'Database connection not ready. Please try again in a moment.';
                formMessage.className = 'mb-4 p-4 rounded-md text-sm bg-red-900 text-red-200';
                formMessage.classList.remove('hidden');
                return;
            }

            submitButton.disabled = true;
            submitButton.textContent = 'Sending...';

            const name = contactForm.name.value;
            const email = contactForm.email.value;
            const message = contactForm.message.value;

            try {
                // Store contact submissions in a public collection for this app
                const submissionsCollection = collection(db, `artifacts/${appId}/public/data/contactSubmissions`);
                await addDoc(submissionsCollection, {
                    name,
                    email,
                    message,
                    submittedAt: serverTimestamp(),
                    userId: userId 
                });

                formMessage.textContent = 'Thank you! Your message has been sent successfully.';
                formMessage.className = 'mb-4 p-4 rounded-md text-sm bg-green-900 text-green-200';
                contactForm.reset();

            } catch (error) {
                console.error("Error adding document: ", error);
                formMessage.textContent = 'An error occurred. Please try again.';
                formMessage.className = 'mb-4 p-4 rounded-md text-sm bg-red-900 text-red-200';
            } finally {
                formMessage.classList.remove('hidden');
                submitButton.disabled = false;
                submitButton.textContent = 'Send Message';
            }
        });

        // Initialize Firebase on script load
        initializeAndAuth();

        // Initialize animations on load
        resizeCanvas();
        initParticles();
        animate();
    </script>
</body>
</html>
